# PactSafe Angular SDK
Angular SDK for easy Clickwrap/Browsewrap implementation leveraging PactSafe's JavaScript Library

## Features
- Automatically loads the PactSafe Snippet into your app so all you have to do is call _ps to use the PactSafe Library

#### PSClickWrap Component:
- Renders a PactSafe ClickWrap group by providing a site `accessId` and a `groupKey`
- Have more control on what contracts you show by using a `filter` to specify contract ID's and/or tags
- Render a completely dynamic ClickWrap by passing in costom `render_data`
- Override default properties set within PactSafe's App configuration:
-- ClickWrap Style using `clickWrapStyle` (only when using `filter` as well)
-- Signer ID selector using `signerIdSelector`
-- and more! (See more detailed documentation on available PSClickWrap configurations here)

#### PSBrowseWrap Component:
- Renders a PactSafe BrowseWrap grou by providing a site `accessId` and `groupKey`
- Override default properties set within PactSafe's App configuration:
-- Position with `position`
-- Visability with `alwaysVisible`
-- and more! (See more detailed documentation on available PSBrowseWrap configurations here)

## Demo & Example

#### PSClickWrap Component:
`Insert demo here`

#### PSBrowseWrap Component:
`Insert demo here`

Live demo?

## Installation
The easiest way to use pactsafe-angular-sdk is to install it using NPM and include it in your own Angular 2+ build process

```
npm install pactsafe-angular-sdk --save
```

## Usage

#### Using PSClickWrap
In order to use the PSClickWrap component, you must import PSModule from `pactsafe-angular-sdk` into your main module

PSClickWrap Component:
``` typescript
// app.module.ts

import { PSModule } from 'pactsafe-angular-sdk'
...
@NgModule({
  ...
  imports: [
    PSModule.forRoot(),
    // Other imports
  ],
  ...
})
```
With the PSModule properly imported, you should be able to use the PSClickWrap component throughout your project.
The ClickWrap requires you to specify an `accessId`, one of ( `groupKey` or `filter` ), and a `signerIdSelector` that corresponds to an input element. This input will identify the signer (usually an email field), so when the user accepts your terms, the info can be successfully sent to PactSafe.

``` html
// sample.component.html

<input type="email" id="userEmail" placeholder="Your Email"/>

<ps-click-wrap accessId={YOUR_PACTSAFE_ACCESS_ID_HERE} groupKey={YOUR_GROUP_KEY_HERE} signerIdSelector="userEmail"></ps-click-wrap>
```

Replace `YOUR_PACTSAFE_ACCESS_ID_HERE` with your PactSafe Site Access ID found here

Replace `YOUR_GROUP_KEY_HERE` with your group's key found within your PacSafe group's configuration

Pass in any additional options using inputs on the `ps-click-wrap` component as shown above with `accessId`, `groupKey`, and `signerIdSelector`

#### Using PSBrowseWrap
In order to use the PSBrowseWrap component, you must import PSModule from `pactsafe-angular-sdk` into your main module exactly as shown above for the PSClickWrap

With the PSModule properly imported, you should be able to use the PSBrowseWrap component throughout your project.
The BrowseWrap requires you to specify an `accessId`, `groupKey`, and a `linkText`.

``` html
// sample.component.html

<ps-browse-wrap accessId={YOUR_PACTSAFE_ACCESS_ID_HERE} groupKey={YOUR_GROUP_KEY_HERE} linkText={YOUR_LINK_TEXT_HERE}></ps-browse-wrap>
```

Replace `YOUR_PACTSAFE_ACCESS_ID_HERE` with your PactSafe Site Access ID found here

Replace `YOUR_GROUP_KEY_HERE` with your group's key found within your PacSafe group's configuration

Replace `YOUR_LINK_TEXT_HERE` with the text you want displyed for your link generated by the BrowseWrap

Pass in any additional options using inputs on the `ps-browse-wrap` component as shown above with `accessId`, `groupKey`, and `linkText`

#### Inputs/Configurations for ClickWrap and BrowseWrap Components

##### PSClickWrap Inputs:

|          Input        |                                Type                                	      |                 Default                |                 Required?                |                                                                                                                                                        Description                                                                                                                                                       |
|:--------------------:|:----------------------------------------------------------------------------:|:--------------------------------------:|:----------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| `accessId`           | string                                                                       | null                                   | Yes                                      | PactSafe site access ID                                                                                                                                                                                                                                                                                                  |
| `clickWrapStyle`     | string.oneOf[`'full'`, `'scroll'`, `'checkbox'`, `'combined'`, `'embedded'`] | Value specified in PactSafe Group's UI | No                                       | Override the clickwrap style specified in the PactSafe Group Interface                                                                                                                                                                                                                                                   |
| `confirmationEmail`  | bool                                                               		  | Value specified in PactSafe Group's UI | No                                       | Override whether to send a confirmation email to the signer upon contract acceptance                                                                                                                                                                                                                                     |
| `containerName`      | string                                                             		  | ps-clickwrap                           | Yes                                      | The div ID that will contain your clickwrap. You should override this if you plan on displaying more than one contract on a page.                                                                                                                                                                                        |
| `disableSending`     | bool                                                               		  | false                                  | No                                       | Turn this on if you want to manually send the agreed event instead of it automatically being sent on contract acceptance. [See documentation on manually sending the agreed event here.](https://pactsafe.gelato.io/guides/get-to-know-our-javascript-library#3-sending-agreed-in-javascript)                            |
| `displayAll`         | bool                                                               		  | true                                   | No                                       | Display all contracts in the group immediately. If disabled, a contract will only be displayed if the signer hasn't accepted the latest version.                                                                                                                                                                         |
| `displayImmediately` | bool                                                               		  | true                                   | No                                       | Display the group's contracts as soon as the Signer ID is available. If disabled, contracts will remain hidden until you call `displayRequired()`                                                                                                                                                                        |
| `dynamic`            | bool                                                               		  | false                                  | No                                       | If you would like to use dynamic render_data in your contract, you must set this to true. If this is set to true, you MUST also pass an object into the `render_data` prop.                                                                                                                                              |
| `filter`             | string                                                             		  | null                                   | No, Yes if `groupKey` prop is not passed | Allows you to dynamically load contracts without having to specify a group. Filter must be in the format: `id==123,456` OR `id==12345 and tags==tag1,tag2` OR `tags==tag1,tag2`. [See documentation for more information on using dynamic groups.](https://pactsafe.gelato.io/guides/dynamic-groups-and-how-to-use-them) |
| `forceScroll`        | bool                                                               		  | Value specified in PactSafe Group's UI | No                                       | Disable acceptance until the signer scrolls to the bottom of each contract.                                                                                                                                                                                                                                              |
| `groupKey`           | string                                                             		  | null                                   | Yes, unless `filter` prop is passed      | PactSafe group key, this is found within the PactSafe Groups configuration.                                                                                                                                                                                         |
| `renderData`         | object                                                             		  | null                                   | If `dynamic` is set to true              | Object containing the dynamic render data for your contract. [For more information on using dynamic contracts, check out this documentation.](https://pactsafe.gelato.io/guides/how-to-use-smart-contracts-with-the-javascript-library#making-your-contract-dynamic)                                                     |
| `signerIDSelector`   | string                                                             		  | null                                   | Yes                                      | The ID of the `<input>` element that will be used to identify the signer.                                                                                                                                                                                                                                                |
| `testMode`           | bool                                                               		  | false                                  | No                                       | Enable this to register any contract acceptances as test data that can be cleared within the PactSafe UI   																																																				 |

##### PSBrowseWrap Inputs:

|        Input            |                                Type                                |                 Default                 |                 Required?                |                                                                                                                                                        Description                                                                                                                                                       |
|:----------------------:|:------------------------------------------------------------------:|:---------------------------------------:|:----------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| `accessId`             | string                                                             | null                                    | Yes                                      | PactSafe site access ID                                                                                                                                                                                                                                                                                                  |
| `alwaysVisible`        | bool                                                               | false                                   | No                                       | Keep the badge visible on the page at all times. If disabled, the badge will be hidden if the target link is visible on screen.                                                                                                                                                                                          |
| `badgeText`            | string                     										  | value of `linkText` 				    | No								       | Provide alternate text for the BrowseWrap badge																																																																		  |
| `groupKey`             | string                                                             | null                                    | Yes								       | PactSafe group key, this is found within the PactSafe Groups configuration.                                                                                                                                                                                                                                              |
| `link`		     	 | string															  | null								    | If `openLegalCenter` is set to false	   | Location of where the BrowseWrap link should redirect to, should only be used if `openLegalCenter` is set to false, otherwise the link will open the group's PactSafe legal center 																																	  |
| `linkText`			 | string															  | null								    | Yes									   | The text that your BrowseWrap link will display (for example, 'Legal Center' or 'Terms of Service')																																																					  |
| `openLegalCenter`	     | bool																  | true								    | No									   | Open this group's legal center page when the badge or link is clicked. If enabled, the target link's original `href` will be replaced.																																													  |
| `position`			 | string.oneOf[`'middle'`, `'left'`, `'right'`, `'auto'`]		      | auto									| Yes								   	   | Position of where the BrowseWrap badge will float within the browser window																																																											  |

## Notes
**You must run your web app over HTTPS** in order to interact with the PactSafe response API (that powers both the PSClickWrap and PSBrowseWrap components)!

## Development (modifying existing code to fit your needs)
`Insert useful info about developing if the user wants to modify given code`

## License
Copyright (c) 2017 PactSafe.

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
